= simple_form_for , url: [:admin, @user], wrapper: :horizontal_form, html: { class: 'form-horizontal' } do |form|

  %fieldset
    %legend= translate('views.forms.basics')
    .fields
      = form.input :first_name
      = form.input :last_name
      = form.input :email
      = form.input :preferred_locale, collection: available_locales_for_select, include_blank: translate('helpers.prompts.custom')

  %fieldset
    %legend= translate('views.forms.password')
    .fields
      - if @user.new_record?
        = render 'password_fields', fields: form
      - else
        .form-group
          .col-lg-offset-3.col-lg-9
            - if controller_name == 'accounts'
              = link_to translate('views.admin.account.edit_password'), :edit_password_admin_account
            - else
              = link_to translate('views.admin.users.edit_password'), [:edit_password, :admin, @user]

  = form_actions do
    = form.button :button, type: 'submit', class: 'btn-primary' do
      = prepend_icon(:save, translate(@user.new_record? ? :create : :update, scope: 'helpers.submit', model: User.model_name.human))
    = button_link_to translate('helpers.links.cancel'), :admin_users unless @user.current?