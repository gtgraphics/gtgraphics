= simple_form_for [:admin, @page], remote: true, wrappers: :horizontal_form, html: { class: 'form-horizontal' } do |form|
  .modal-body
    = form.input :embeddable_type, as: :hidden
    = form.input :parent_id, as: :hidden
    = form.input :title, input_html: { autofocus: true }
    = form.input :parent_id, input_html: { class: 'resource-combobox', data: { resource: 'pages', from: admin_pages_path(parent_assignable_id: @page.persisted? ? @page.id : nil, format: :json), formatter: 'PageComboboxFormatter', include_blank: false } }
    = form.simple_fields_for :embeddable do |fields|
      = try_render "admin/#{@page.embeddable_type.underscore.pluralize}/new_fields", fields: fields

  .modal-footer
    = form.button :button, type: 'submit', class: 'btn-primary' do
      = prepend_icon :save, translate('helpers.links.save')
    = button_tag translate('helpers.links.close'), type: 'button', class: 'btn btn-default', data: { dismiss: 'modal' }