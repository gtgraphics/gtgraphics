- content_for :stylesheets do
  = stylesheet_link_tag 'application', media: 'all', data: { turbolinks_track: true }

- content_for :javascripts do
  = javascript_include_tag 'application', data: { turbolinks_track: true }

- content_for :head do
  %meta{name: 'description', content: @page.meta_description || ''}
  %meta{name: 'keywords', content: @page.meta_keywords || ''}
  %meta{name: 'robots', content: @page.indexable? ? 'index,follow' : 'noindex,follow'}

  - # Meta Elements for OpenGraph/Social Media integration
  - if content_for? :social_meta_tags
    = yield :social_meta_tags
  - else
    %meta{property: 'og:title', content: @page.title}
    %meta{property: 'og:description', content: @page.meta_description || ''}
  %meta{property: 'og:url', content: page_url(@page)}

  - # References to other translations
  %link{rel: 'canonical', href: page_url(@page)}  
  - @page.translated_locales.reject { |locale| locale == I18n.locale }.each do |translated_locale|
    %link{rel: 'alternate', hreflang: translated_locale, href: page_url(@page, locale: translated_locale)}

- content_for :content do
  = facebook_sdk_anchor

  %a{name: 'top'}

  - if background_image
    #background{class: page.root? ? 'homepage' : 'subpage'}
      = image_tag background_url, alt: background_image.title

  .container

    #content_wrapper.row
      .col-sm-12

        = link_to :root, id: 'brand' do
          = image_tag 'logo.png', id: 'logo', alt: 'GT Graphics'
          .sr-only GT Graphics

        #page_wrapper
          = render 'navbar'

          - unless @page.homepage?
            #page_content_wrapper
              #page_content
                = render_flashes
                = render 'breadcrumbs'

                - if content_for? :page_content
                  = yield :page_content
                - else
                  = yield

          = loader

  = render 'footer'

  #back_to_top.visible-md.visible-lg
    = link_to '#top' do
      = prepend_icon :angle, translate('helpers.links.back_to_top'), fixed_width: true, direction: :up, size: 3, caption_html: { class: 'sr-only' }


= render template: 'layouts/application'