- content_for :head do
  %meta{name: 'description', content: @page.meta_description || ''}
  %meta{name: 'keywords', content: @page.meta_keywords || ''}
  - @page.translated_locales.each do |translated_locale|
    %link{rel: 'alternate', hreflang: translated_locale, href: page_url(locale: translated_locale)}
    
- content_for :content do

  %nav.navbar.navbar-default.navbar-fixed-top.navbar-inverse{role: 'navigation'}
    .container

      .navbar-header
        - if signed_in?
          %button.navbar-toggle{type: 'button', data: { toggle: 'collapse', target: '.navbar-collapse' }}
            %span.sr-only Toggle Navigation
            = icon(:reorder)

        = link_to :root, class: 'navbar-brand' do
          GT Graphics

      .navbar-collapse.collapse
        %ul.nav.navbar-nav
          - Page.in_main_menu.with_translations.each do |page|
            = active_link_to page.title, page, wrap_tag: :li

        %ul.nav.navbar-nav.navbar-right
          %li.dropdown
            = link_to '#', class: 'dropdown-toggle', data: { toggle: 'dropdown' } do
              = flag_icon(locale)
              %b.caret
            %ul.dropdown-menu
              - I18n.available_locales.each do |locale|
                = active_link_to locale: locale, wrap_tag: :li, hreflang: locale, lang: locale do
                  = flag_icon(locale)
                  = translate(locale, scope: :languages, locale: locale)

  - unless @page.published?
    %p
      %strong Warning: This Page has not been published yet.

  .container
    = render 'breadcrumbs'
    = render_flash(flash.notice, type: :success)
    = render_flash(flash.alert, type: :danger)

    #page_content
      - if content_for? :page_content
        = yield :page_content
      - else
        = yield

    %hr
    = link_to 'Admin', :admin_root

= render template: 'layouts/application'